# 使用 docker compose 快速启动 cc-proxy 代理
version: "3.8"

services:
  cc-proxy:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        DENO_VERSION: ${DENO_VERSION:-2.0.0}
    image: cc-proxy #或者用项目构建好的
    container_name: cc-proxy
    restart: unless-stopped
    environment:
      # 必需配置
      ADMIN_API_KEY: changeme-admin-key  # 管理后台密钥（必需）

      # 基础配置
      HOST: 0.0.0.0
      PORT: 3456
      LOG_LEVEL: info
      # PGSTORE_DSN:postgresql://username:password@host:port/database

      # 其他配置请访问管理后台 http://localhost:3456/admin 进行设置

    ports:
      - "3456:3456"
    volumes:
      - ./config.json:/app/config.json  # 配置持久化


